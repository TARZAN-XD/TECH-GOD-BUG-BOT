<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Ù„ÙˆØ­Ø© ÙˆØ§ØªØ³Ø§Ø¨</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
    body { background:#111; color:#fff; font-family:sans-serif; text-align:center; padding:40px; }
    input, button { padding:14px; font-size:18px; width:90%; margin:10px auto; display:block; border-radius:8px; }
    input { background:#222; border:1px solid #444; color:#fff; }
    button { background:#00ff99; border:none; color:#000; font-weight:bold; cursor:pointer; }
    button:hover { background:#00d480; }
    .box { background:#1b1b1b; padding:30px; border-radius:12px; width:90%; max-width:450px; margin:auto; }
</style>
</head>
<body>

<div class="box">
    <h2>ğŸ” Ø·Ù„Ø¨ Ø±Ù…Ø² Ø§Ù‚ØªØ±Ø§Ù†</h2>
    <input id="pairNumber" placeholder="Ø±Ù‚Ù… ÙˆØ§ØªØ³Ø§Ø¨ (Ù…Ø«Ø§Ù„: 9677XXXXXXXX)">
    <button onclick="getPair()">Ø·Ù„Ø¨ Ø±Ù…Ø²</button>
    <h3 id="pairResult"></h3>

    <hr>

    <h2>ğŸ”¥ Ø¥Ø±Ø³Ø§Ù„ Ø£ÙˆØ§Ù…Ø±</h2>
    <input id="target" placeholder="Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ù‡Ø¯Ù">
    <button onclick="sendCmd('bug')">BUG</button>
    <button onclick="sendCmd('crash')">CRASH</button>

    <p id="cmdResult"></p>
</div>

<script>
async function getPair() {
    const number = document.getElementById("pairNumber").value.trim();
    const res = await fetch("/pair", {
        method:"POST",
        headers:{ "Content-Type":"application/json" },
        body:JSON.stringify({ number })
    });
    document.getElementById("pairResult").innerText = (await res.json()).code || "Ø®Ø·Ø£!";
}

async function sendCmd(cmd) {
    const number = document.getElementById("target").value.trim();
    const res = await fetch(`/send-${cmd}`, {
        method:"POST",
        headers:{ "Content-Type":"application/json" },
        body:JSON.stringify({ number })
    });
    document.getElementById("cmdResult").innerText = await res.text();
}
</script>

</body>
</html>
